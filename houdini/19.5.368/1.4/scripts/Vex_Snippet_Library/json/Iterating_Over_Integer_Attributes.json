{
    "label": "Iterating_Over_Integer_Attributes",
    "context": "Points",
    "data": "// VEX uniquevals & findattribval - Detail Wrangle Example\n\n// Assign attrib patch name variable, and attrib type as string prim.\nstring atrname = chs(\"attrib_name\"); string atrtype = \"prim\";\n\n// Find all unique patch ids on the geometry and iterate over them.\nint ids[] = uniquevals(0, atrtype, atrname);\nforeach(int id; ids){\n    // Create a blank array for prims found, and initialized patch size.\n    int patchprims[]; float patcharea = 0;\n    \n    // Find number of prims with current patch id and iterate over them.\n    int idnum = findattribvalcount(0, atrtype, atrname, id);\n    for(int i = 0; i < idnum; i++){\n        // Find prim associated with current patch id value iteration.\n        int prim = findattribval(0, atrtype, atrname, id, i);\n        \n        // Find the intrinsic area attribute of current patch prim.\n        float primarea = primintrinsic(0, \"measuredarea\", prim);\n        \n        // If eligible, accumulate patch area by adding in prim area.\n        if(isnan(primarea) != 1){\n            patcharea += primarea;\n        }\n        // Append current prim to list of iterated patch prims.\n        append(patchprims, prim);\n    }\n    // For each iterated prim, set patch area prim attribute.\n    foreach(int pprim; patchprims){\n        setprimattrib(0, \"patcharea\", pprim, patcharea, \"set\");\n    }\n}\n"
}